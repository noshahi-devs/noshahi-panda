<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rider Setup Demo | Noshahi Panda</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background: #f0f7ff;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        .setup-card {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            text-align: center;
        }

        .btn-brand {
            background: #3b82f6;
            color: white;
            border-radius: 12px;
            padding: 12px 30px;
            font-weight: 600;
            border: none;
            transition: 0.3s;
        }

        .btn-brand:hover {
            background: #1e3a8a;
            transform: translateY(-2px);
        }
    </style>
</head>

<body>
    <div class="setup-card">
        <div class="mb-4">
            <i class="fa-solid fa-motorcycle fa-4x text-primary"></i>
        </div>
        <h2 class="fw-bold mb-3">Rider Demo Setup</h2>
        <p class="text-muted mb-4">This will create a demo rider account and 3 "Ready" orders at nearby restaurants for
            you to pick up.</p>

        <div class="alert alert-primary small text-start mb-4">
            <strong>What will happen:</strong>
            <ul class="mb-0">
                <li>Create "Rider Ali" demo account</li>
                <li>Add 3 orders with status "Ready" (Pickup Available)</li>
                <li>Log you in as a Rider</li>
            </ul>
        </div>

        <button onclick="startRiderDemo()" class="btn btn-brand w-100 mb-3">Initialize & Go to Rider Dashboard</button>
        <a href="index.html" class="text-muted small text-decoration-none">Back to Home</a>
    </div>

    <script>
        function startRiderDemo() {
            // 1. Create Demo Rider
            const demoRider = {
                id: 123456,
                name: "Rider Ali",
                email: "rider@demo.com",
                password: "123",
                vehicle: "Motorbike",
                status: "Active",
                rating: "4.9",
                date: new Date().toLocaleDateString()
            };

            let riders = JSON.parse(localStorage.getItem('noshahi_all_riders') || '[]');
            riders = riders.filter(r => r.id !== 123456);
            riders.push(demoRider);
            localStorage.setItem('noshahi_all_riders', JSON.stringify(riders));
            localStorage.setItem('noshahi_active_rider', JSON.stringify(demoRider));

            // 2. Create "Ready" Orders for Pickup
            const pickupOrders = [
                {
                    id: 1001,
                    restaurant: "The Burger Club",
                    customer: "Asad Malik",
                    items: [{ name: "Beef Burger", price: 650 }],
                    total: "Rs. 650",
                    status: "Ready",
                    date: new Date().toLocaleString(),
                    address: "Gulberg III, Main Market"
                },
                {
                    id: 1002,
                    restaurant: "Pizza Napoletana",
                    customer: "Zoya Khan",
                    items: [{ name: "Small Margherita", price: 850 }],
                    total: "Rs. 850",
                    status: "Ready",
                    date: new Date().toLocaleString(),
                    address: "DHA Phase 4, Sector CC"
                },
                {
                    id: 1003,
                    restaurant: "Chopstick House",
                    customer: "Umar Farooq",
                    items: [{ name: "Egg Fried Rice", price: 500 }],
                    total: "Rs. 500",
                    status: "Ready",
                    date: new Date().toLocaleString(),
                    address: "Model Town, Bank Square"
                }
            ];

            let orders = JSON.parse(localStorage.getItem('noshahi_all_orders') || '[]');
            // Clear existing demo orders to avoid mess
            orders = orders.filter(o => o.id < 1001 || o.id > 1003);
            orders.push(...pickupOrders);
            localStorage.setItem('noshahi_all_orders', JSON.stringify(orders));

            // 3. Redirect
            window.location.href = 'rider-dashboard.html';
        }
    </script>
</body>

</html>